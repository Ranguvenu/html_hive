{"version":3,"sources":["../src/event_popup.js"],"names":["define","$","Str","ModalFactory","ModalEvents","Templates","popup_eventinfo","args","btn","event_details","other_details","pop_desc","eventlocal_classroomname","options","eventid","itemid","contenttype","eventlocal_eventname","classroomname","tabs","eventplugin","eventenrolled","eventself_enrol","button_classroom","tmp","ajax","async","type","global","dataType","url","M","cfg","wwwroot","eventinstance","success","returndata","eventprerequisitecheck","button_program","button_certification","button_course","eventeventtype","eventlocal_eventenddate","eventlocal_eventstartdate","eventstartdate","eventsummary","plugintype","coursename","creditpoints","eventprerequisiteurl","eventiltselfenrol","waitinglistenable","capacity","enrolledusers","waitinglistinfo","create","title","body","render","done","modal","setLarge","show","getRoot","click","bind","hide","destroy","load"],"mappings":"AAOAA,OAAM,uCAAC,CAAC,QAAD,CACN,UADM,CAEN,oBAFM,CAGN,mBAHM,CAIN,gBAJM,CAKN,eALM,CAMN,WANM,CAON,UAPM,CAAD,CAQE,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAA+BC,CAA/B,CAA2CC,CAA3C,CAAsD,CAE1D,MAAQ,CACJC,eAAe,CAAE,yBAASC,CAAT,CAAc,IACvBC,CAAAA,CAAG,CAAG,EADiB,CAEvBC,CAAa,CAAG,EAFO,CAGvBC,CAAa,CAAG,CAHO,CAKvBC,CAAQ,CAAIJ,CAAI,CAACK,wBALM,CAYnBC,CAAO,CAAG,EAZS,CAavBA,CAAO,CAACC,OAAR,CAAkBP,CAAI,CAACO,OAAvB,CACAD,CAAO,CAACE,MAAR,CAAiBR,CAAI,CAACQ,MAAtB,CACAF,CAAO,CAACG,WAAR,CAAuBT,CAAI,CAACU,oBAA5B,CACAJ,CAAO,CAACK,aAAR,CAAyBX,CAAI,CAACK,wBAA9B,CAEAC,CAAO,CAACM,IAAR,CAAe,CAZN,CAAC,OAAU,QAAX,CAAoB,KAAO,aAA3B,CAAyC,KAAO,aAAhD,CAYM,CAVF,CAAC,OAAU,EAAX,CAAc,KAAO,UAArB,CAAgC,KAAO,UAAvC,CAUE,CARA,CAAC,OAAU,EAAX,CAAc,KAAO,eAArB,CAAqC,KAAO,gBAA5C,CAQA,CAPD,CAAC,OAAU,EAAX,CAAc,KAAO,gBAArB,CAAsC,KAAO,iBAA7C,CAOC,CAAf,CAEJX,CAAG,EAAI,kCAAP,CACA,OAAQD,CAAI,CAACa,WAAb,EACI,IAAK,iBAAL,CACI,GAAI,IAAAb,CAAI,CAACc,aAAN,EAAkC,IAAAd,CAAI,CAACe,eAA1C,CAAoE,CAChE,GAAIC,CAAAA,CAAgB,CAAG,UAAY,CAC/B,GAAIC,CAAAA,CAAG,CAAG,IAAV,CACAvB,CAAC,CAACwB,IAAF,CAAO,CACHC,KAAK,GADF,CAEHC,IAAI,CAAE,MAFH,CAGHC,MAAM,GAHH,CAIHC,QAAQ,CAAE,MAJP,CAKHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,8CAAhB,CAA+D1B,CAAI,CAAC2B,aAApE,CAAkF,yBALpF,CAMHC,OAAO,CAAE,iBAAUC,CAAV,CAAsB,CAC3B,GAAmB,CAAd,EAAAA,CAAL,CAAuB,CACnB,GAAG,IAAA7B,CAAI,CAAC8B,sBAAR,CAAuC,CACrCb,CAAG,CAAG,mJAAoJjB,CAAI,CAAC2B,aAAzJ,CAAuK,gBAAvK,CAAwL3B,CAAI,CAAC2B,aAA7L,CAA2M,6DAA3M,CAA4Q3B,CAAI,CAACU,oBAAjR,CAAsS,gEAC7S,CAFD,IAEK,CACHO,CAAG,CAAG,yGACP,CACJ,CAND,IAMM,IAAmB,CAAd,EAAAY,CAAL,CAAuB,CACzB,GAAG,IAAA7B,CAAI,CAAC8B,sBAAR,CAAuC,CACnCb,CAAG,CAAG,sJAAuJjB,CAAI,CAAC2B,aAA5J,CAA0K,gBAA1K,CAA2L3B,CAAI,CAAC2B,aAAhM,CAA8M,qEAA9M,CAAuR3B,CAAI,CAACU,oBAA5R,CAAiT,kEAC1T,CAFD,IAEK,CACFO,CAAG,CAAG,0GACR,CACJ,CANK,IAMA,IAAmB,CAAd,EAAAY,CAAL,CAAuB,CAC3BZ,CAAG,CAAG,oDACP,CAFK,IAEA,IAAmB,CAAd,EAAAY,CAAL,CAAuB,CAC3BZ,CAAG,CAAG,iDACP,CAFK,IAEC,CACJA,CAAG,CAAG,wBACR,CACJ,CA1BE,CAAP,EA4BA,MAAOA,CAAAA,CACV,CA/BsB,EAAvB,CAgCAhB,CAAG,EAAIe,CAEV,CAnCD,IAqCK,IAAG,IAAAhB,CAAI,CAACc,aAAR,CAA+B,CACjCb,CAAG,EAAI,kBAAmBuB,CAAC,CAACC,GAAF,CAAMC,OAAzB,CAAmC,gCAAnC,CAAsE1B,CAAI,CAAC2B,aAA3E,CAA0F,sEACnG,CACL,MACA,IAAK,eAAL,CACI,GAAI,IAAA3B,CAAI,CAACc,aAAN,EAAkC,IAAAd,CAAI,CAACe,eAA1C,CAAoE,CAChE,GAAIgB,CAAAA,CAAc,CAAG,UAAY,CAC7B,GAAId,CAAAA,CAAG,CAAG,IAAV,CACAvB,CAAC,CAACwB,IAAF,CAAO,CACHC,KAAK,GADF,CAEHC,IAAI,CAAE,MAFH,CAGHC,MAAM,GAHH,CAIHC,QAAQ,CAAE,MAJP,CAKHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,8CAAhB,CAA+D1B,CAAI,CAAC2B,aAApE,CAAkF,uBALpF,CAMHC,OAAO,CAAE,iBAAUC,CAAV,CAAsB,CAC3B,GAAmB,CAAd,EAAAA,CAAL,CAAuB,CACrBZ,CAAG,CAAG,6IAA8IjB,CAAI,CAAC2B,aAAnJ,CAAiK,cAAjK,CAAgL3B,CAAI,CAAC2B,aAArL,CAAmM,yDAAnM,CAAgQ3B,CAAI,CAACU,oBAArQ,CAA0R,gEACjS,CAFD,IAEO,CACJO,CAAG,CAAG,wBACR,CACJ,CAZE,CAAP,EAcA,MAAOA,CAAAA,CACV,CAjBoB,EAArB,CAkBAhB,CAAG,EAAI8B,CACV,CApBD,IAsBK,IAAG,IAAA/B,CAAI,CAACc,aAAR,CACLb,CAAG,EAAI,kBAAmBuB,CAAC,CAACC,GAAF,CAAMC,OAAzB,CAAmC,+BAAnC,CAAqE1B,CAAI,CAAC2B,aAA1E,CAAyF,sEAAhG,CACJ,MACA,IAAK,qBAAL,CACI,GAAI,IAAA3B,CAAI,CAACc,aAAN,EAAkC,IAAAd,CAAI,CAACe,eAA1C,CAAoE,CAChE,GAAIiB,CAAAA,CAAoB,CAAG,UAAY,CACnC,GAAIf,CAAAA,CAAG,CAAG,IAAV,CACAvB,CAAC,CAACwB,IAAF,CAAO,CACHC,KAAK,GADF,CAEHC,IAAI,CAAE,MAFH,CAGHC,MAAM,GAHH,CAIHC,QAAQ,CAAE,MAJP,CAKHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,8CAAhB,CAA+D1B,CAAI,CAAC2B,aAApE,CAAkF,6BALpF,CAMHC,OAAO,CAAE,iBAAUC,CAAV,CAAsB,CAC3B,GAAmB,CAAd,EAAAA,CAAL,CAAuB,CACrBZ,CAAG,CAAG,gKAAiKjB,CAAI,CAAC2B,aAAtK,CAAoL,oBAApL,CAAyM3B,CAAI,CAAC2B,aAA9M,CAA4N,qEAA5N,CAAqS3B,CAAI,CAACU,oBAA1S,CAA+T,gEACtU,CAFD,IAEO,CACJO,CAAG,CAAG,wBACR,CACJ,CAZE,CAAP,EAcA,MAAOA,CAAAA,CACV,CAjB0B,EAA3B,CAkBAhB,CAAG,EAAI+B,CACV,CApBD,IAsBK,IAAG,IAAAhC,CAAI,CAACc,aAAR,CACLb,CAAG,EAAI,kBAAmBuB,CAAC,CAACC,GAAF,CAAMC,OAAzB,CAAmC,qCAAnC,CAA2E1B,CAAI,CAAC2B,aAAhF,CAA+F,sEAAtG,CACJ,MACA,IAAK,QAAL,CACI,GAAI,IAAA3B,CAAI,CAACc,aAAN,EAAkC,IAAAd,CAAI,CAACe,eAA1C,CAAoE,CAChE,GAAIkB,CAAAA,CAAa,CAAG,UAAY,CAC5B,GAAIhB,CAAAA,CAAG,CAAG,IAAV,CACAvB,CAAC,CAACwB,IAAF,CAAO,CACHC,KAAK,GADF,CAEHC,IAAI,CAAE,MAFH,CAGHC,MAAM,GAHH,CAIHC,QAAQ,CAAE,MAJP,CAKHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,8CAAhB,CAA+D1B,CAAI,CAAC2B,aAApE,CAAkF,6BALpF,CAMHC,OAAO,CAAE,iBAAUC,CAAV,CAAsB,CAC3B,GAAmB,CAAd,EAAAA,CAAL,CAAuB,CACrBZ,CAAG,CAAG,kBAAmBO,CAAC,CAACC,GAAF,CAAMC,OAAzB,CAAmC,sBAAnC,CAA4D1B,CAAI,CAAC2B,aAAjE,CAAgF,oEACvF,CAFD,IAEO,CACJV,CAAG,CAAG,wBACR,CACJ,CAZE,CAAP,EAcA,MAAOA,CAAAA,CACV,CAjBmB,EAApB,CAkBAhB,CAAG,EAAIgC,CACV,CApBD,IAqBK,IAAG,IAAAjC,CAAI,CAACc,aAAR,CACLb,CAAG,EAAI,kBAAmBuB,CAAC,CAACC,GAAF,CAAMC,OAAzB,CAAmC,sBAAnC,CAA4D1B,CAAI,CAAC2B,aAAjE,CAAgF,mDAAvF,CACJ,MACA,QACI1B,CAAG,EAAI,iBAAiBuB,CAAC,CAACC,GAAF,CAAMC,OAAvB,CAA+B,4BAAtC,CACJ,MA1HJ,CA4HAzB,CAAG,EAAI,OAAP,CACAC,CAAa,EAAID,CAAjB,CAEA,GAA2B,cAAvB,EAAAD,CAAI,CAACkC,cAAL,EAAgE,MAAvB,EAAAlC,CAAI,CAACkC,cAAlD,CAA4E,CACxE,GAAoC,MAAhC,EAAAlC,CAAI,CAACmC,uBAAT,CAA4C,CACvCjC,CAAa,EAAI,yMAA6LF,CAAI,CAACoC,yBAAlM,CAA6N,cAClP,CAFD,IAEO,CAEDlC,CAAa,EAAI,6OAAiOF,CAAI,CAACqC,cAAtO,CAAuP,cAC7Q,CACJ,CAPD,IAOO,IAA2B,eAAvB,EAAArC,CAAI,CAACkC,cAAL,EAAiE,OAAvB,EAAAlC,CAAI,CAACkC,cAAnD,CAA8E,CACjFhC,CAAa,EAAI,0MAA8LF,CAAI,CAACmC,uBAAnM,CAA4N,cAChP,CAFM,IAEA,CACHjC,CAAa,EAAI,gMAAoLF,CAAI,CAACoC,yBAAzL,CAAoN,cAArO,CACAlC,CAAa,EAAI,0OAA8NF,CAAI,CAACkC,cAAnO,CAAoP,cAArQ,CACAhC,CAAa,EAAI,4MAAgMF,CAAI,CAACsC,YAArM,CAAoN,cAArO,CACAnC,CAAa,CAAG,CACnB,CACD,GAAsB,iBAAnB,EAAAH,CAAI,CAACuC,UAAR,CAAwC,CACpC,GAAGvC,CAAI,CAACwC,UAAR,CAAmB,CACf,GAAIA,CAAAA,CAAU,CAAGxC,CAAI,CAACwC,UACzB,CAFD,IAEK,CACD,GAAIA,CAAAA,CAAU,CAAG,IACpB,CACD,GAAGxC,CAAI,CAACyC,YAAR,CAAqB,CACjB,GAAIA,CAAAA,CAAY,CAAGzC,CAAI,CAACyC,YAC3B,CAFD,IAEK,CACD,GAAIA,CAAAA,CAAY,CAAG,CACtB,CACDvC,CAAa,EAAI,iMAAqLsC,CAArL,CAAiM,cAAlN,CACAtC,CAAa,EAAI,oMAAwLuC,CAAxL,CAAsM,cAC1N,CACD,GAAqB,CAAjB,EAAAtC,CAAJ,CAAwB,CACpBD,CAAa,EAAI,oNAAwMF,CAAI,CAAC0C,oBAA7M,CAAoO,cAArP,CACAxC,CAAa,EAAI,uOAA2NF,CAAI,CAAC2C,iBAAhO,CAAoP,cAArQ,CACAzC,CAAa,EAAI,sOAA0NF,CAAI,CAAC4C,iBAA/N,CAAmP,cAApQ,CACA1C,CAAa,EAAI,mSAAqRF,CAAI,CAAC6C,QAA1R,CAAmS,2HAAnS,CAA6Z7C,CAAI,CAAC8C,aAAla,CAAgb,2IAAhb,CAA0jB9C,CAAI,CAAC+C,eAA/jB,CAA+kB,qBAGnmB,CAEDzC,CAAO,CAACJ,aAAR,CAAwBA,CAAxB,CAEAN,CAAY,CAACoD,MAAb,CAAoB,CAChBC,KAAK,CAAE7C,CADS,CAEhB8C,IAAI,CAAEpD,CAAS,CAACqD,MAAV,CAAiB,2CAAjB,CAA6D7C,CAA7D,CAFU,CAApB,EAIK8C,IAJL,CAIU,SAASC,CAAT,CAAgB,CAEtBA,CAAK,CAACC,QAAN,GACAD,CAAK,CAACE,IAAN,GACAF,CAAK,CAACG,OAAN,GAAgBC,KAAhB,CAAsB,UAAY,CACjCJ,CAAK,CAACE,IAAN,EACA,CAFqB,CAEpBG,IAFoB,CAEf,IAFe,CAAtB,EAGAhE,CAAC,CAAC,QAAD,CAAD,CAAY+D,KAAZ,CAAkB,UAAY,CAC1BJ,CAAK,CAACM,IAAN,GACAN,CAAK,CAACO,OAAN,EACH,CAHiB,CAGhBF,IAHgB,CAGX,IAHW,CAAlB,CAKH,CAhBD,CAiBH,CA9MG,CA+MJG,IAAI,CAAE,eAAY,CAEjB,CAjNG,CAmNX,CA7NK,CAAN","sourcesContent":["/**\r\n * Add a create new event modal to the page.\r\n *\r\n * @module     blocks/training calendar\r\n * @package    calendar\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\ndefine(['jquery',\r\n 'core/str', \r\n 'core/modal_factory', \r\n 'core/modal_events', \r\n 'core/templates',\r\n 'core/fragment', \r\n 'core/ajax', \r\n 'core/yui'],\r\n        function($, Str, ModalFactory, ModalEvents,Templates) {\r\n\r\n    return  {\r\n        popup_eventinfo: function(args){\r\n            var btn = '';\r\n            var event_details = '';\r\n            var other_details = 1;\r\n            // var pop_desc =  args.eventlocal_eventname;\r\n            var pop_desc =  args.eventlocal_classroomname;\r\n            var tabone = {'active' :'active','type':'description','name':'Description'};\r\n\r\n                var tabtwo = {'active' :'','type':'sessions','name':'Sessions'};\r\n\r\n                var tabthree = {'active' :'','type':'prerequisites','name':'Pre-requisites'};\r\n                var tabfour = {'active' :'','type':'targetlearners','name':'Target Learners'};\r\n                var options = {};\r\n                options.eventid = args.eventid;\r\n                options.itemid = args.itemid;\r\n                options.contenttype =  args.eventlocal_eventname;\r\n                options.classroomname =  args.eventlocal_classroomname;\r\n\r\n                options.tabs = [tabone,tabtwo,tabthree,tabfour];\r\n\r\n            btn += '<ul class=\"eventpopup_footer\">';\r\n            switch (args.eventplugin) {\r\n                case 'local_classroom':\r\n                    if((args.eventenrolled == false) && (args.eventself_enrol == true)) {\r\n                        var button_classroom = function () {\r\n                            var tmp = null;\r\n                            $.ajax({\r\n                                async: false,\r\n                                type: \"POST\",\r\n                                global: false,\r\n                                dataType: \"json\",\r\n                                url: M.cfg.wwwroot + '/blocks/training_calendar/ajax.php?instance='+args.eventinstance+'&plugin=local_classroom',\r\n                                success: function (returndata) {\r\n                                    if ((returndata == 1)) {\r\n                                        if(args.eventprerequisitecheck == true){\r\n                                          tmp = '<li><a href= \"javascript:void(0)\" onclick=\"(function(e){ require(\\'local_classroom/classroom\\').ManageclassroomStatus({action:\\'selfenrol\\', id: '+args.eventinstance+', classroomid:'+args.eventinstance+',actionstatusmsg:\\'classroom_self_enrolment\\',classroomname:\\''+args.eventlocal_eventname+'\\'}) })(event)\"><button class=\"btn\">Enrol</button></a> </li>';\r\n                                        }else{\r\n                                          tmp = '<div class=\"row col-xs-12\"> Please complete the Pre-requisite courses before Enrolling for ILT </div>'; \r\n                                        }\r\n                                    }else if ((returndata == 2)) {\r\n                                        if(args.eventprerequisitecheck == true){\r\n                                            tmp = '<li><a href= \"javascript:void(0)\" onclick=\"(function(e){ require(\\'local_classroom/classroom\\').ManageclassroomStatus({action:\\'enrolrequest\\', id: '+args.eventinstance+', classroomid:'+args.eventinstance+',actionstatusmsg:\\'classroom_enrolrequest_enrolment\\',classroomname:\\''+args.eventlocal_eventname+'\\'}) })(event)\"><button class=\"btn\">Request</button></a> </li>';\r\n                                        }else{\r\n                                           tmp = '<div class=\"row col-xs-12\"> Please complete the Pre-requisite courses before Requesting for ILT </div>';\r\n                                        }\r\n                                    }else if ((returndata == 3)) {\r\n                                      tmp = '<li><button class=\"btn\">Processing</button></li>';\r\n                                    }else if ((returndata == 4)) {\r\n                                      tmp = '<li><button class=\"btn\">Waiting</button></li>';\r\n                                    } else {\r\n                                       tmp = '<li>Not published</li>';\r\n                                    }\r\n                                }\r\n                            });\r\n                            return tmp;\r\n                        }();\r\n                        btn += button_classroom;\r\n\r\n                    }\r\n\r\n                    else if(args.eventenrolled == true) {\r\n                       btn += '<li><a href= \"' + M.cfg.wwwroot + '/local/classroom/view.php?cid=' + args.eventinstance +'\" target=\"_blank\"><button class=\"btn\">Launch</button></a> </li>';\r\n                    }\r\n                break;\r\n                case 'local_program':\r\n                    if((args.eventenrolled == false) && (args.eventself_enrol == true)) {\r\n                        var button_program = function () {\r\n                            var tmp = null;\r\n                            $.ajax({\r\n                                async: false,\r\n                                type: \"POST\",\r\n                                global: false,\r\n                                dataType: \"json\",\r\n                                url: M.cfg.wwwroot + '/blocks/training_calendar/ajax.php?instance='+args.eventinstance+'&plugin=local_program',\r\n                                success: function (returndata) {\r\n                                    if ((returndata == 1)) {\r\n                                      tmp = '<li><a href= \"javascript:void(0)\" onclick=\"(function(e){ require(\\'local_program/program\\').ManageprogramStatus({action:\\'selfenrol\\', id: '+args.eventinstance+', programid:'+args.eventinstance+',actionstatusmsg:\\'program_self_enrolment\\',programname:\\''+args.eventlocal_eventname+'\\'}) })(event)\"><button class=\"btn\">Enrol</button></a> </li>';\r\n                                    } else {\r\n                                       tmp = '<li>Not published</li>';\r\n                                    }\r\n                                }\r\n                            });\r\n                            return tmp;\r\n                        }();\r\n                        btn += button_program;\r\n                    }\r\n\r\n                    else if(args.eventenrolled == true)\r\n                    btn += '<li><a href= \"' + M.cfg.wwwroot + '/local/program/view.php?bcid=' + args.eventinstance +'\" target=\"_blank\"><button class=\"btn\">Launch</button></a> </li>';\r\n                break;\r\n                case 'local_certification':\r\n                    if((args.eventenrolled == false) && (args.eventself_enrol == true)) {\r\n                        var button_certification = function () {\r\n                            var tmp = null;\r\n                            $.ajax({\r\n                                async: false,\r\n                                type: \"POST\",\r\n                                global: false,\r\n                                dataType: \"json\",\r\n                                url: M.cfg.wwwroot + '/blocks/training_calendar/ajax.php?instance='+args.eventinstance+'&plugin=local_certification',\r\n                                success: function (returndata) {\r\n                                    if ((returndata == 1)) {\r\n                                      tmp = '<li><a href= \"javascript:void(0)\"  onclick=\"(function(e){ require(\\'local_certification/certification\\').ManagecertificationStatus({action:\\'selfenrol\\', id: '+args.eventinstance+', certificationid:'+args.eventinstance+',actionstatusmsg:\\'certification_self_enrolment\\',certificationname:\\''+args.eventlocal_eventname+'\\'}) })(event)\"><button class=\"btn\">Enrol</button></a> </li>';\r\n                                    } else {\r\n                                       tmp = '<li>Not published</li>';\r\n                                    }\r\n                                }\r\n                            });\r\n                            return tmp;\r\n                        }();\r\n                        btn += button_certification;\r\n                    }\r\n\r\n                    else if(args.eventenrolled == true)\r\n                    btn += '<li><a href= \"' + M.cfg.wwwroot + '/local/certification/view.php?ctid=' + args.eventinstance +'\" target=\"_blank\"><button class=\"btn\">Launch</button></a> </li>';\r\n                break;\r\n                case 'course':\r\n                    if((args.eventenrolled == false) && (args.eventself_enrol == true)) {\r\n                        var button_course = function () {\r\n                            var tmp = null;\r\n                            $.ajax({\r\n                                async: false,\r\n                                type: \"POST\",\r\n                                global: false,\r\n                                dataType: \"json\",\r\n                                url: M.cfg.wwwroot + '/blocks/training_calendar/ajax.php?instance='+args.eventinstance+'&plugin=local_certification',\r\n                                success: function (returndata) {\r\n                                    if ((returndata == 1)) {\r\n                                      tmp = '<li><a href= \"' + M.cfg.wwwroot + '/course/view.php?id=' + args.eventinstance +'\" target=\"_blank\"><button class=\"btn\">View</button></a> </li>';\r\n                                    } else {\r\n                                       tmp = '<li>Not published</li>';\r\n                                    }\r\n                                }\r\n                            });\r\n                            return tmp;\r\n                        }();\r\n                        btn += button_course;\r\n                    }\r\n                    else if(args.eventenrolled == true)\r\n                    btn += '<li><a href= \"' + M.cfg.wwwroot + '/course/view.php?id=' + args.eventinstance +'\" ><button class=\"btn\">View</button></a> </li>';\r\n                break;\r\n                default:\r\n                    btn += '<li><a href=\"'+ M.cfg.wwwroot+'\" target=\"_blank\"></li>';\r\n                break;\r\n            }\r\n            btn += '</ul>';\r\n            event_details += btn;\r\n            \r\n            if (args.eventeventtype == \"session_open\" || args.eventeventtype == \"open\") {\r\n                if (args.eventlocal_eventenddate == 'null') {\r\n                     event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-clock-o fa-fw \" aria-hidden=\"true\" title=\"When\" aria-label=\"When\"></i> </div><div class=\"col-xs-11\"> Opens on ' + args.eventlocal_eventstartdate+ '</div></div>';\r\n                } else {\r\n                      //event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-clock-o fa-fw \" aria-hidden=\"true\" title=\"When\" aria-label=\"When\"></i> </div><div class=\"col-xs-11\">' + args.eventlocal_eventstartdate+ ' - '+ args.eventlocal_eventenddate+ '</div></div>';\r\n                      event_details += '<div class=\"d-flex  mt-10 mb-10\"><div class=\"calendericon_container\"> <i class=\"icon fa fa-calendar fa-fw \" aria-hidden=\"true\" title=\"ILT Start Date\" aria-label=\"ILT Start Date\"></i> </div><div class=\"content_container\">' + args.eventstartdate + '</div></div>';\r\n                }\r\n            } else if (args.eventeventtype == \"session_close\" || args.eventeventtype == \"close\") {\r\n                event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-clock-o fa-fw \" aria-hidden=\"true\" title=\"When\" aria-label=\"When\"></i> </div><div class=\"col-xs-11\"> Closes on ' + args.eventlocal_eventenddate+ '</div></div>';\r\n            } else { // all other events like course site mod\r\n                event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-clock-o fa-fw \" aria-hidden=\"true\" title=\"When\" aria-label=\"When\"></i> </div><div class=\"col-xs-11\"> ' + args.eventlocal_eventstartdate+ '</div></div>';\r\n                event_details += '<div class=\"d-flex  mt-10 mb-10\"><div class=\"calendericon_container\"> <i class=\"icon fa fa-calendar fa-fw  \" aria-hidden=\"true\" title=\"Event type\" aria-label=\"Event type\"></i></i> </div><div class=\"content_container\">' + args.eventeventtype + '</div></div>';\r\n                event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-align-left fa-fw \" aria-hidden=\"true\" title=\"Summary\" aria-label=\"Summary\"></i></i> </div><div class=\"col-xs-11\">' + args.eventsummary + '</div></div>';\r\n                other_details = 0;\r\n            }\r\n            if(args.plugintype == 'local_classroom'){\r\n                if(args.coursename){\r\n                    var coursename = args.coursename;\r\n                }else{\r\n                    var coursename = 'NA';\r\n                }\r\n                if(args.creditpoints){\r\n                    var creditpoints = args.creditpoints;\r\n                }else{\r\n                    var creditpoints = 0;\r\n                }\r\n                event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-book fa-fw \" aria-hidden=\"true\" title=\"Course\" aria-label=\"Course\"></i> </div><div class=\"col-xs-11\"> ' + coursename+ '</div></div>';\r\n                event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-money fa-fw \" aria-hidden=\"true\" title=\"Credits\" aria-label=\"Credits\"></i> </div><div class=\"col-xs-11\"> ' + creditpoints+ '</div></div>';\r\n            }\r\n            if (other_details == 1) {\r\n                event_details += '<div class=\"d-flex  mt-10 mb-10\"><div class=\"linkicon_container\"> <i class=\"icon fa fa-link fa-fw \" aria-hidden=\"true\" title=\"URL\" aria-label=\"URL\"></i> </div><div class=\"linkcontent_container\"> ' + args.eventprerequisiteurl + '</div></div>';\r\n                event_details += '<div class=\"d-flex  mt-10 mb-10\"><div class=\"fileicon_container\"> <i class=\"icon fa fa-file-text fa-fw \" aria-hidden=\"true\" title=\"Self Enrol\" aria-label=\"Self Enrol\"></i> </div><div class=\"filecontent_container\"> ' + args.eventiltselfenrol + '</div></div>';\r\n                event_details += '<div class=\"d-flex  mt-10 mb-10\"><div class=\"clockicon_container\"> <i class=\"icon fa fa-file-text fa-fw \" aria-hidden=\"true\" title=\"Waiting list\" aria-label=\"Waiting list\"></i> </div><div class=\"clock_container\"> ' + args.waitinglistenable + '</div></div>';\r\n                event_details += '<div class=\"d-flex mt-10 mb-10\"><div class=\"usericon_container\"> <i class=\"icon fa fa-user fa-fw \" aria-hidden=\"true\" title=\"Users\" aria-label=\"Users\"></i> </div><div class=\"capacity_container\"> <span class=\\\"capacity_name\\\">Capacity :</span> <span class=\\\"capacity_count\\\">'+args.capacity+'</span></div><div class=\"enroll_container\"> <span class=\\\"enroll_name\\\">Enrolled : </span><span class=\\\"enroll_count\\\">'+args.enrolledusers+'</span></div><div class=\"waitinglist_container\"> <span class=\\\" waiting_name\\\"> Waiting List :</span><span class=\\\"waitinglist_count\\\">'+args.waitinglistinfo+'</span></div></div>';\r\n                // event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"> <i class=\"icon fa fa-book fa-fw \" aria-hidden=\"true\" title=\"Prerequisitecourse\" aria-label=\"Prerequisitecourse\"></i> </div><div class=\"col-xs-11\"> Pre-Requisite Courses: </div></div>';\r\n                // event_details += '<div class=\"row  mt-10 mb-10\"><div class=\"col-xs-1\"></div><div class=\"col-xs-11\"> ' + args.eventprerequisite + '</div></div>';\r\n            }\r\n\r\n            options.event_details = event_details;\r\n            // event_details += Templates.render('block_training_calendar/popuptabs_display',options);\r\n            ModalFactory.create({\r\n                title: pop_desc,\r\n                body: Templates.render('block_training_calendar/popuptabs_display',options),\r\n                // footer: btn\r\n              }).done(function(modal) {\r\n\r\n                modal.setLarge();\r\n                modal.show();\r\n                modal.getRoot().click(function(e) {\r\n                 modal.show();\r\n                }.bind(this));\r\n                $(\".close\").click(function(e) {\r\n                    modal.hide();\r\n                    modal.destroy();\r\n                }.bind(this));\r\n      \r\n            });\r\n        },\r\n        load: function () {\r\n           // do nothing\r\n        }\r\n    };\r\n});\r\n"],"file":"event_popup.min.js"}