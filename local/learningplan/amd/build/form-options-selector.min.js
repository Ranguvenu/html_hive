define ("local_learningplan/form-options-selector",["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function processResults(b,c){var d=[];a.each(c,function(a,b){d.push({value:b.id,label:b._label})});return d},transport:function transport(d,e,f,g){var h;contextid=parseInt(a(d).data("contextid"),10);action=a(d).data("action");formoptions=a(d).data("options");if("learningplan_subdepartment_selector"===action){var i=a("#id_department").val();if(i){formoptions.departments_selected=i}}formoptions=JSON.stringify(formoptions);h=b.call([{methodname:"local_learningplan_form_option_selector",args:{query:e,context:{contextid:contextid},action:action,options:formoptions}}]);h[0].then(function(b){b=a.parseJSON(b);var d=[],e=0;a.each(b,function(a,b){d.push(c.render("local_learningplan/form-option-selector-suggestion",b))});return a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b,function(a,b){b._label=c[e];e++});f(b)})}).catch(g)}}});
//# sourceMappingURL=form-options-selector.min.js.map
