{"version":3,"sources":["../src/evaluation.js"],"names":["define","DataTable","$","Str","ModalFactory","ModalEvents","Fragment","Ajax","load","getdepartmentlist","document","on","costcentervalue","find","val","promise","call","methodname","args","costcenterid","contextid","done","resp","JSON","parse","template","each","index","value","html","fail","alert","window","location","reload","gridchangedata","copyval","evalid","data","ajax","method","dataType","action","url","M","cfg","wwwroot","success"],"mappings":"AAQAA,OAAM,+BAAC,CAAC,iCAAD,CAAoC,QAApC,CAA8C,UAA9C,CAA0D,oBAA1D,CAAgF,mBAAhF,CAAqG,eAArG,CAAsH,WAAtH,CAAmI,UAAnI,CAAD,CACE,SAAUC,CAAV,CAAqBC,CAArB,CAAwBC,CAAxB,CAA6BC,CAA7B,CAA2CC,CAA3C,CAAwDC,CAAxD,CAAkEC,CAAlE,CAAwE,CAChF,MAAO,CACLC,IAAI,CAAE,eAAU,CAGf,CAJI,CAKLC,iBAAiB,CAAE,4BAAW,CACpBP,CAAC,CAACQ,QAAD,CAAD,CAAYC,EAAZ,CAAe,QAAf,CAAyB,kBAAzB,CAA6C,UAAW,CACpD,GAAIC,CAAAA,CAAe,CAAGV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa,iBAAb,EAAgCC,GAAhC,EAAtB,CAEA,GAAIF,CAAe,EAAuB,MAAnB,EAAAA,CAAvB,CAAkD,CAC9C,GAAIG,CAAAA,CAAO,CAAGR,CAAI,CAACS,IAAL,CAAU,CAAC,CACrBC,UAAU,CAAE,kCADS,CAErBC,IAAI,CAAE,CACFC,YAAY,CAAEP,CADZ,CAEFQ,SAAS,CAAE,CAFT,CAFe,CAAD,CAAV,CAAd,CAOAL,CAAO,CAAC,CAAD,CAAP,CAAWM,IAAX,CAAgB,SAASC,CAAT,CAAe,IACvBA,CAAAA,CAAI,CAAGC,IAAI,CAACC,KAAL,CAAWF,CAAX,CADgB,CAGvBG,CAAQ,CAAG,EAHY,CAI3BvB,CAAC,CAACwB,IAAF,CAAOJ,CAAP,CAAa,SAAUK,CAAV,CAAiBC,CAAjB,CAAwB,CACjC,GAAY,CAAT,EAAAD,CAAH,CAAc,CACV,QACH,CACDF,CAAQ,EAAI,mBAAqBE,CAArB,CAA6B,IAA7B,CAAmCC,CAAnC,CAA0C,WACzD,CALD,EAMA1B,CAAC,CAAC,kBAAD,CAAD,CAAsB2B,IAAtB,CAA2BJ,CAA3B,CACH,CAXD,EAWGK,IAXH,CAWQ,UAAW,CAEfC,KAAK,CAAC,wCAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EACH,CAfD,CAgBH,CACJ,CA5BD,CA6BH,CAnCF,CAoCCC,cAAc,CAAE,yBAAU,CAEtBjC,CAAC,CAACQ,QAAD,CAAD,CAAYC,EAAZ,CAAe,QAAf,CAAyB,mBAAzB,CAA8C,UAAU,IAEhDyB,CAAAA,CAAO,CAAGlC,CAAC,CAAC,IAAD,CAAD,CAAQY,GAAR,EAFsC,CAGhDuB,CAAM,CAAGnC,CAAC,CAAC,IAAD,CAAD,CAAQoC,IAAR,CAAa,QAAb,CAHuC,CAIpDpC,CAAC,CAACqC,IAAF,CAAO,CACHC,MAAM,CAAE,MADL,CAEHC,QAAQ,CAAE,MAFP,CAGHH,IAAI,CAAG,CAACI,MAAM,CAAE,gBAAT,CAA2BN,OAAO,CAAEA,CAApC,CAA6CC,MAAM,CAAEA,CAArD,CAHJ,CAIHM,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAc,kCAJhB,CAKHC,OAAO,CAAE,iBAAST,CAAT,CAAc,CACnBpC,CAAC,CAAC,qBAAD,CAAD,CAAyB2B,IAAzB,CAA8BS,CAA9B,CACH,CAPE,CAAP,CASH,CAbD,CAcH,CApDF,CAsDN,CAxDK,CAAN","sourcesContent":["/**\n * Add a create new group modal to the page.\n *\n * @module     block_gamification/gamification\n * @class      gamification\n * @package    block_gamification\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['local_courses/jquery.dataTables', 'jquery', 'core/str', 'core/modal_factory', 'core/modal_events', 'core/fragment', 'core/ajax', 'core/yui'],\n        function (DataTable, $, Str, ModalFactory, ModalEvents, Fragment, Ajax) {\nreturn {\n\t\tload :function(){\n\t\t\t\n            \n\t\t},\n\t\tgetdepartmentlist: function() {\n            $(document).on('change', '#id_costcenterid', function() {\n                var costcentervalue = $(this).find(\"option:selected\").val();\n                // var title = M.util.get_string(\"select_department\", \"local_onlinetests\");\n                if (costcentervalue && costcentervalue != 'null') {\n                    var promise = Ajax.call([{\n                        methodname: 'local_users_get_departments_list',\n                        args: {\n                            costcenterid: costcentervalue,\n                            contextid: 1\n                        },\n                    }]);\n                    promise[0].done(function(resp) {\n                        var resp = JSON.parse(resp);\n                        // var template =  '<option value=null>Select LOB</option>';                                    \n                        var template = '';                                    \n                        $.each(resp, function( index, value) {\n                            if(index == 0){\n                                return true;\n                            }\n                            template += '<option value = ' + index + ' >' +value+ '</option>';\n                        });\n                        $('#id_departmentid').html(template);\n                    }).fail(function() {\n                        // do something with the exception\n                        alert('Error occured while processing request');\n                        window.location.reload();\n                    });\n                }\n            });\n        },\n        gridchangedata: function(){\n            // alert('hello');\n            $(document).on('change', '#select_copyvalue', function(){\n                // alert('hi');\n                var copyval = $(this).val();\n                var evalid = $(this).data('evalid');\n                $.ajax({\n                    method: \"POST\",\n                    dataType: \"json\",\n                    data : {action: 'getgriddetails', copyval: copyval, evalid: evalid},\n                    url: M.cfg.wwwroot+\"/local/evaluation/customajax.php\",\n                    success: function(data){\n                        $(\"#grid_display_table\").html(data);\n                    }\n                }); \n            });\n        }\n\t};\n});"],"file":"evaluation.min.js"}