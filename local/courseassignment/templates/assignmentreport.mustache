{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_courseassignment/assignmentreport

    This template renders the courses content for the courses plugin.

    Example context (json):
    {}
}}

{{#response}}
    {{#viewtypeCard}}    
        <table id ="tab" class=" generaltable">
        <thead>
            <tr>
              <th>{{# str}} coursename, local_courseassignment{{/ str}}</th>
              <th>{{# str}} employeeid, local_courseassignment{{/ str}}</th>            
              <th>{{# str}} firstname, local_courseassignment{{/ str}}</th>
              <th>{{# str}} lastname, local_courseassignment{{/ str}}</th>
              <th>{{# str}} emailid, local_courseassignment{{/ str}}</th>
              <th>{{# str}} assignment_file, local_courseassignment{{/ str}}</th>
              <!--<th>{{# str}} grade, local_courseassignment{{/ str}}</th>-->
              <th>{{# str}} initial_submission_date, local_courseassignment{{/ str}}</th>      
              <th>{{# str}} last_submission_date, local_courseassignment{{/ str}}</th>          
              <th>{{# str}} completion_date, local_courseassignment{{/ str}}</th>          
            
              <th>{{# str}} compl_status, local_courseassignment{{/ str}}</th>            
              <th>{{# str}} status, local_courseassignment{{/ str}}</th>
              <th>{{# str}} reason, local_courseassignment{{/ str}}</th>
              <th>{{# str}} actions, local_courseassignment{{/ str}}</th>
           
            </tr>
        </thead>
        <tbody>
            {{#records}}
             
                <tr>
                  <td><a href = {{courseurl}} target= "_blank">{{ fullname }}</a></td>
                  <td>{{ open_employeeid }}</td>
                  <td>{{ firstname }}</td>
                  <td>{{ lastname }}</td>
                  <td title="{{ email }}">{{ email }}</td>
                  <td>
                    {{# itemid }}
                    <a
                      href="{{assignurl}}"><label
                        class="fa fa-download" style="float:center;"> &nbsp;&nbsp;</label></a>
                    {{/ itemid }}
                  </td>
                  <td>{{initialdate}}</td> 
                  <td>{{modifieddate}}</td> 
                  <td>{{completiondate}}</td>             
                  <td>{{status}}</td>           
                  <td>{{method}} </td>
                  <td title="{{ reason }}">{{#reason}} {{ reason }} {{/reason}}{{^reason}} - {{/reason}}</td>
                  <td style = "width:155px;word-wrap:break-word;" class="cell c5" id="mod_assign_grading_r1_c5">
                    {{#approvestatus}} 
                      <a href="javascript:void(0)" onclick='(function(e){ require("local_courseassignment/grader").acceptGrade({contextid:1, userid:{{userid}} , moduleid:{{moduleid}}, courseid:{{courseid}}, method : "approve",options:{{{options}}}, dataoptions:{{{dataoptions}}} ,filterdata:{{{filterdata}}} }) })(event)'><i class="fa fa-check-circle" title = {{# str}} approve_grade, local_courseassignment{{/ str}}></i></a>
                    {{/approvestatus}}
                    {{#rejectstatus}} 
                      <a href="javascript:void(0)" onclick='(function(e){ require("local_courseassignment/grader").init({contextid:1, userid:{{userid}} , moduleid:{{moduleid}}, courseid:{{courseid}}, method : "reject",options:{{{options}}}, dataoptions:{{{dataoptions}}} ,filterdata:{{{filterdata}}}  }) })(event)'><i class="fa fa-close" title = {{# str}} reject_grade, local_courseassignment{{/ str}} ></i> </a>
                    {{/rejectstatus}}
                    {{#resetstatus}}
                      <a href="javascript:void(0)" onclick='(function(e){ require("local_courseassignment/grader").init({contextid:1, userid:{{userid}} , moduleid:{{moduleid}}, courseid:{{courseid}}, method: "reset",options:{{{options}}}, dataoptions:{{{dataoptions}}} ,filterdata:{{{filterdata}}}, event:event }) })(event)'><i class="fa fa-refresh" title = {{# str}} reset_grade, local_courseassignment{{/ str}} ></i></a>
                    {{/resetstatus}}
                  </td>
                 
                </tr>
               
            {{/records}}
        </tbody>
        </table>
    {{/viewtypeCard}}
{{/response}}


