{"version":3,"sources":["../src/datatablesamd.js"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","Templates","$","users","init","deletesyncStatistics","args","id","each","i","val","length","get_strings","key","component","param","then","s","create","title","type","types","SAVE_CANCEL","body","done","modal","setSaveButtonText","getRoot","on","save","e","preventDefault","confirm","params","contextid","ids","JSON","stringify","promise","call","methodname","action","window","location","href","fail","ex","console","log","bind","show","alert","load"],"mappings":"AASAA,OAAM,6BAAC,CACH,UADG,CAEH,oBAFG,CAGH,mBAHG,CAIH,WAJG,CAKH,gBALG,CAMH,QANG,CAOH,UAPG,CAAD,CAQH,SAASC,CAAT,CAAcC,CAAd,CAA4BC,CAA5B,CAAyCC,CAAzC,CAA+CC,CAA/C,CAA0DC,CAA1D,CAA6D,CAC5D,GAAIC,CAAAA,CAAJ,CACA,MAAOA,CAAAA,CAAK,CAAG,CACXC,IAAI,CAAE,eAAe,CAEpB,CAHU,CAIXC,oBAAoB,CAAE,8BAASC,CAAT,CAAc,CAChC,GAAIC,CAAAA,CAAE,CAAG,EAAT,CAEAL,CAAC,CAAC,mBAAD,CAAD,CAAuBM,IAAvB,CAA4B,SAASC,CAAT,CAAW,CACnCF,CAAE,CAACE,CAAD,CAAF,CAAQP,CAAC,CAAC,IAAD,CAAD,CAAQQ,GAAR,EACX,CAFD,EAGA,GAAe,CAAZ,CAAAH,CAAE,CAACI,MAAN,CAAiB,CACb,MAAOd,CAAAA,CAAG,CAACe,WAAJ,CAAgB,CAAC,CACpBC,GAAG,CAAE,SADe,CAAD,CAGvB,CACIA,GAAG,CAAE,oBADT,CAEIC,SAAS,CAAE,aAFf,CAGIC,KAAK,CAAET,CAHX,CAHuB,CAQvB,CACIO,GAAG,CAAE,oBADT,CAEIC,SAAS,CAAE,aAFf,CARuB,CAYvB,CACID,GAAG,CAAE,QADT,CAZuB,CAAhB,EAcHG,IAdG,CAcE,SAASC,CAAT,CAAY,CACjBnB,CAAY,CAACoB,MAAb,CAAoB,CAChBC,KAAK,CAAEF,CAAC,CAAC,CAAD,CADQ,CAEhBG,IAAI,CAAEtB,CAAY,CAACuB,KAAb,CAAmBC,WAFT,CAGhBC,IAAI,CAAEN,CAAC,CAAC,CAAD,CAHS,CAApB,EAIGO,IAJH,CAIQ,SAASC,CAAT,CAAgB,CACpB,KAAKA,KAAL,CAAaA,CAAb,CACAA,CAAK,CAACC,iBAAN,CAAwBT,CAAC,CAAC,CAAD,CAAzB,EACAQ,CAAK,CAACE,OAAN,GAAgBC,EAAhB,CAAmB7B,CAAW,CAAC8B,IAA/B,CAAqC,SAASC,CAAT,CAAY,CAC7CA,CAAC,CAACC,cAAF,GACAzB,CAAI,CAAC0B,OAAL,IAF6C,GAGzCC,CAAAA,CAAM,CAAG,CACNC,SADM,CACM5B,CAAI,CAAC4B,SADX,CAENC,GAFM,CAEAC,IAAI,CAACC,SAAL,CAAe9B,CAAf,CAFA,CAHgC,CAMzC+B,CAAO,CAAGtC,CAAI,CAACuC,IAAL,CAAU,CAAC,CACrBC,UAAU,CAAE,eAAelC,CAAI,CAACmC,MADX,CAErBnC,IAAI,CAAE2B,CAFe,CAAD,CAAV,CAN+B,CAU7CK,CAAO,CAAC,CAAD,CAAP,CAAWd,IAAX,CAAgB,UAAe,CAC3BkB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBF,MAAM,CAACC,QAAP,CAAgBC,IAC1C,CAFD,EAEGC,IAFH,CAEQ,SAASC,CAAT,CAAa,CAChBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CACJ,CAJD,CAKH,CAfoC,CAenCG,IAfmC,CAe9B,IAf8B,CAArC,EAgBAxB,CAAK,CAACyB,IAAN,EACH,CApBO,CAoBND,IApBM,CAoBD,IApBC,CAJR,CAyBH,CA1BQ,CA0BPA,IA1BO,CA0BF,IA1BE,CAdF,CAyCV,CA1CD,IA0CK,CACDE,KAAK,CAAC,oCAAD,CACR,CACJ,CAvDU,CAwDXC,IAAI,CAAE,eAAU,CAEf,CA1DU,CA4DlB,CAtEK,CAAN","sourcesContent":["/**\n * Add a create new group modal to the page.\n *\n * @module     core_group/AjaxForms\n * @class      AjaxForms\n * @package    core_group\n * @copyright  2017 Damyon Wiese <damyon@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/ajax',\n    'core/templates',\n    'jquery',\n    'jqueryui'\n], function(Str, ModalFactory, ModalEvents, Ajax, Templates, $) {\n    var users;\n    return users = {\n        init: function(args) {\n            \n        },\n        deletesyncStatistics: function(args){\n            var id = [];\n            //var value = $('input[type=checkbox]').prop('checked');\n            $(\":checkbox:checked\").each(function(i){\n                id[i] = $(this).val();\n            });\n            if(id.length > 0){\n                return Str.get_strings([{\n                    key: 'confirm'\n                },\n                {\n                    key: 'deleteconfirmsynch',\n                    component: 'local_users',\n                    param :args\n                },\n                {\n                    key: 'deleteconfirmsynch',\n                    component: 'local_users'\n                },\n                {\n                    key: 'delete'\n                }]).then(function(s) {\n                    ModalFactory.create({\n                        title: s[0],\n                        type: ModalFactory.types.SAVE_CANCEL,\n                        body: s[1]\n                    }).done(function(modal) {\n                        this.modal = modal;\n                        modal.setSaveButtonText(s[3]);\n                        modal.getRoot().on(ModalEvents.save, function(e) {\n                            e.preventDefault();\n                            args.confirm = true;\n                            var params = {};\n                            params.contextid = args.contextid;\n                            params.ids = JSON.stringify(id);\n                            var promise = Ajax.call([{\n                                methodname: 'local_users_'+args.action,\n                                args: params\n                            }]);\n                            promise[0].done(function(resp) {\n                                window.location.href = window.location.href;\n                            }).fail(function(ex) {\n                                 console.log(ex);\n                            });\n                        }.bind(this));\n                        modal.show();\n                    }.bind(this));\n                }.bind(this));\n            }else{\n                alert(\"Please Select atleast one checkbox\");\n            }\n        },\n        load: function(){\n\n        }\n    };\n});"],"file":"datatablesamd.min.js"}