{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template catalog/select box

    Displays select box
}}
<div class='col-md-3 col-lg-3 col-xl-2 col-sm-3 pt-3 pl-0 d-none d-md-block bg-white border-right filter_section'>
    <div>
        <div class="icon-header float-left">
            <span class="icon_img"> <img src="pix/filters.png" alt=""> </span> Filters
        </div>
        <div class="clearfix"></div>
    </div>
    <!-- <hr> -->
    <div ng-repeat = 'cat1 in filteritemslist'>
        <section ng-repeat = 'cat in cat1.categoriesall' >
            <div class="collapsed_settings_div">
                <div class="icon-header d-flex align-items-center" data-toggle="collapse" href="#list<% cat.catcode %>" role="button" aria-expanded="false" aria-controls="collapse">
                    <span class="icon_img"> <img src="pix/select.png" alt=""> </span> <% cat.tagcatname %> 
                    <span class="float-right collapseiconspan"><i class="collapseicon fa" aria-hidden="true"></i></span>
                </div>
                <div class="collapse show collapse_content px-1 py-2 mr-2 mt-3" id="list<% cat.catcode %>" >
                    <div ng-repeat='item in cat.itemslist' class='checkbox-item' >
                        <div ng-if = 'tagcheckeddatas[item.tagitemid]' >
                            <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null)' id='<% item.tagitemshortname %>' checked>
                        </div>
                        <div ng-if = '!tagcheckeddatas[item.tagitemid]' >
                            <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null)' id='<% item.tagitemshortname %>' >
                        </div>
                        <label  class="col-sm p-0" for='<% item.tagitemshortname %>'><% item.tagitemname %><span class="pull-right"><% item.coursecount %></span></label> 
                    </div>
                    <div ng-if = 'cat.showviewmore'>
                        <div ng-repeat='item in moreitemslist[cat.catcode]' class='checkbox-item moreitemslist_<% cat.catcode %>' >
                        <div ng-if = 'tagcheckeddatas[item.tagitemid]' >
                            <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null)' id='<% item.tagitemshortname %>' checked>
                        </div>
                        <div ng-if = '!tagcheckeddatas[item.tagitemid]' >
                            <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null)' id='<% item.tagitemshortname %>' >
                        </div> 
                        <label class="col-sm p-0" for='<% item.tagitemshortname %>'><% item.tagitemname %><span class="pull-right"><% item.coursecount %></span></label> 
                        </div>
                        <a href='javaScript:void(0)' ng-click='getitemslist(cat.catcode)' id='viewmoreless_<% cat.catcode %>' class='viewmore' >View more</a>
                    </div>
                </div>
            </div>
            <hr>
            {{! <a href ='#list<% cat.catcode %>' data-toggle='collapse' aria-expanded='true' ><div class='section-title' ><% cat.tagcatname %></div></a>

            <div  id='list<% cat.catcode %>' class='collapse show pr-2'>
                <div ng-repeat='item in cat.itemslist' class='checkbox-item' >
                    <div ng-if = 'tagcheckeddatas[item.tagitemid]' >
                        <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null,null,0,0,1)' id='<% item.tagitemshortname %>' checked>
                    </div>
                    <div ng-if = '!tagcheckeddatas[item.tagitemid]' >
                        <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null,null,0,0,1)' id='<% item.tagitemshortname %>' >
                    </div>
                    <label  class="col-sm p-0" for='<% item.tagitemshortname %>'><% item.tagitemname %><span class="pull-right"><% item.coursecount %></span></label> 
                </div>
                <div ng-if = 'cat.showviewmore'>
                    <div ng-repeat='item in moreitemslist[cat.catcode]' class='checkbox_vm_item moreitemslist_<% cat.catcode %>' >
                    <div ng-if = 'tagcheckeddatas[item.tagitemid]' >
                        <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null,null,0,0,1)' id='<% item.tagitemshortname %>' checked>
                    </div>
                    <div ng-if = '!tagcheckeddatas[item.tagitemid]' >
                        <input type='checkbox' name='tagitem'  value='<% item.tagitemid %>' ng-click='tabfunction(6,0,null,null,0,0,1)' id='<% item.tagitemshortname %>' >
                    </div> 
                    <label class="col-sm p-0" for='<% item.tagitemshortname %>'><% item.tagitemname %><span class="pull-right"><% item.coursecount %></span></label> 
                    </div>
                    <a href='javaScript:void(0)' ng-click='getitemslist(cat.catcode)' id='viewmoreless_<% cat.catcode %>' class='viewmore' >View more</a>
                </div>
            </div> }}
        </section>
    </div>
</div>
