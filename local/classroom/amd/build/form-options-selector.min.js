define ("local_classroom/form-options-selector",["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function processResults(b,c){var d=[];a.each(c,function(a,b){d.push({value:b.id,label:b._label})});return d},transport:function transport(d,e,f,g){var h;contextid=parseInt(a(d).data("contextid"),10),action=a(d).data("action");formoptions=a(d).data("options");if("classroom_institute_selector"===action){institute_type_selector=a(d).data("institute_type");institute_type=a("[name='"+institute_type_selector+"']:checked").val();formoptions.institute_type=institute_type}else if("classroom_costcenter_selector"===action){if(formoptions.department){organizationclass=formoptions.organizationselect;formoptions.parnetid=a("[data-class='"+organizationclass+"']").val()}}else if("classroom_subdepartment_selector"===action){var i=a("#id_department").val();if(i){formoptions.departments_selected=i}}else if("classroom_trainer_selector"===action){organizationclass=formoptions.organizationselect;formoptions.parnetid=a("[data-class='"+organizationclass+"']").val()}formoptions=JSON.stringify(formoptions);h=b.call([{methodname:"local_classroom_form_option_selector",args:{query:e,context:{contextid:contextid},action:action,options:formoptions}}]);h[0].then(function(b){b=a.parseJSON(b);var d=[],e=0;a.each(b,function(a,b){d.push(c.render("local_classroom/form-option-selector-suggestion",b))});return a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b,function(a,b){b._label=c[e];e++});f(b)})}).catch(g)}}});
//# sourceMappingURL=form-options-selector.min.js.map
