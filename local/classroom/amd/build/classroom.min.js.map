{"version":3,"sources":["../src/classroom.js"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","Templates","$","Cardpaginate","classroom","init","args","AssignUsers","completionInfo","params","name","promise","call","methodname","empty","removeClass","addClass","done","resp","data","render","response","then","html","fail","ex","console","log","classroomsData","reload","targetID","templateName","methodName","perPage","cardClass","viewType","status","sessionsData","tabname","classroomid","coursesData","deleteConfirm","get_strings","key","component","param","classroomname","sessionname","s","action","create","title","type","types","SAVE_CANCEL","body","modal","setSaveButtonText","getRoot","on","save","e","setBody","M","cfg","wwwroot","hideFooter","setTitle","css","preventDefault","confirm","window","location","href","bind","show","click","prop","hasClass","val","trigger","classroomStatus","actionstatusmsg","ManageclassroomStatus","return_status","load"],"mappings":"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","sourcesContent":["/**\n * Add a create new group modal to the page.\n *\n * @module     core_group/AjaxForms\n * @class      AjaxForms\n * @package    core_group\n * @copyright  2017 Damyon Wiese <damyon@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/ajax',\n    'core/templates',\n    'jquery',\n    'local_costcenter/cardPaginate',\n    'jqueryui'\n], function(Str, ModalFactory, ModalEvents, Ajax, Templates, $,Cardpaginate) {\n    var classroom;\n    return classroom = {\n        init: function(args) {\n            this.AssignUsers(args);\n        },\n        completionInfo: function(params) {\n            \n            var name = params.name;\n            var target = \".\"+name;\n            var promise = Ajax.call([{\n                methodname: 'local_classroom_classroomview'+name,\n                args: params\n            }]);\n            $(\"#sessions_tabdataid\").empty();\n            $(\"#coursesid\").empty();\n            $(\"#usersid\").empty();\n            $(\"#feedbacksid\").empty();\n            $(\"#requestedusersid\").empty();\n            $(\".tab-pane\").removeClass('active');\n            $(\"#\"+name).addClass('active');\n\n            promise[0].done(function(resp) {\n                var data = Templates.render('local_classroom/classroomview'+name, {response: resp});\n                data.then(function(response){\n                    $(target).html(response);\n                });\n            }).fail(function(ex) {\n                // do something with the exception\n                console.log(ex);\n            });\n        },\n        classroomsData: function() {\n            var targetid = 'all';\n            var options = {targetID: targetid,\n                        templateName: 'local_classroom/classrooms_list',\n                        methodName: 'local_classroom_get_classrooms',\n                        perPage: 6,\n                        cardClass: 'col-md-6 col-12',\n                        viewType: 'card'};\n\n            var dataoptions = {status: '-1'};\n\n            Cardpaginate.reload(options, dataoptions);\n        },\n        sessionsData: function(params) {\n            var targetid = 'sessions_tabdata';\n            var options = {targetID: targetid,\n                        templateName: 'local_classroom/classroomviewsessions',\n                        methodName: 'local_classroom_classroomviewsessions',\n                        perPage: 5,\n                        cardClass: 'col-md-6 col-12',\n                        viewType: 'card'};\n\n            var dataoptions = {tabname: 'sessions',classroomid: params};\n            var filterdata = {};\n\n            Cardpaginate.reload(options, dataoptions,filterdata);\n        },\n        coursesData: function(params) {\n            var targetid = 'courses_tabdata';\n            var options = {targetID: targetid,\n                        templateName: 'local_classroom/classroomviewcourses',\n                        methodName: 'local_classroom_classroomviewcourses',\n                        perPage: 5,\n                        cardClass: 'col-md-6 col-12',\n                        viewType: 'card'};\n\n            var dataoptions = {tabname: 'courses',classroomid: params};\n            var filterdata = {};\n\n            Cardpaginate.reload(options, dataoptions,filterdata);\n        },\n        deleteConfirm: function(args) {\n            console.log(args);\n            return Str.get_strings([{\n                key: 'confirmation',\n                component: 'local_classroom'\n            },\n            {\n                key: 'deleteconfirm',\n                component: 'local_classroom',\n                param: args.classroomname,\n            },\n            {\n                key: 'deleteallconfirm',\n                component: 'local_classroom',\n                param: args.sessionname,\n            },\n            {\n                key: 'yes'\n            },\n            {\n                key: 'deletecourseconfirm',\n                component: 'local_classroom'\n            },\n            {\n                key: 'unenrollclassroom',\n                component: 'local_classroom',\n                param: args.classroomname,\n            },\n            ]).then(function(s) {\n                 if(args.action==\"deleteclassroom\"){\n                    s[1]=s[1];\n                 }\n                 else if(args.action==\"unenrollclassroom\"){\n                    s[1]=s[5];\n                 }\n                 else if(args.action==\"deleteclassroomcourse\"){\n                    s[1]=s[4];\n                 }else{\n                     s[1]=s[2];\n                 }\n                ModalFactory.create({\n\n                    title: s[0],\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    modal.setSaveButtonText(s[3]);\n                    modal.getRoot().on(ModalEvents.save, function(e) {\n                        this.modal.setBody('<span class=\"loading-icon icon-no-margin\"><img src='+M.cfg.wwwroot + '/local/ajax-loader.svg></span>');\n                        this.modal.hideFooter();\n                        this.modal.setTitle('Request Processing...');\n                        $('[data-action=\"hide\"]').css('display','none');\n                        e.preventDefault();\n                        args.confirm = true;\n                        var promise = Ajax.call([{\n                            methodname: 'local_classroom_' + args.action,\n                            args: args\n                        }]);\n                        promise[0].done(function(resp) {\n                            if(args.action==\"deleteclassroom\"){\n                                 window.location.href = M.cfg.wwwroot + '/local/classroom/index.php';\n                            }else{\n                                 window.location.href = M.cfg.wwwroot + '/local/classroom/view.php?cid='+args.classroomid;\n                            }\n                           \n                        }).fail(function(ex) {\n                            // do something with the exception\n                             console.log(ex);\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        },\n        AssignUsers: function(args) {\n            $('.usersselect').click(function() {\n                var type = $(this).data('id');\n\n                if (type === 'removeselect') {\n                    $('input#remove').prop('disabled', false);\n                    $('input#add').prop('disabled', true);\n                } else if (type === 'addselect') {\n                    $('input#remove').prop('disabled', true);\n                    $('input#add').prop('disabled', false);\n                }\n\n                if ($(this).hasClass('select_all')) {\n                    $('#' + type + ' option').prop('selected', true);\n                } else if ($(this).hasClass('remove_all')) {\n                    $('#' + type ).val('').trigger(\"change\");\n                }\n            });\n        },\n        classroomStatus: function(args) {\n            return Str.get_strings([\n            {\n                key: 'confirmation',\n                component: 'local_classroom'\n            },\n            {\n                key: args.actionstatusmsg,\n                component: 'local_classroom'\n            },\n            {\n                key: 'yes'\n            }]).then(function(s) {\n                ModalFactory.create({\n                    title: s[0],\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    modal.setSaveButtonText(s[2]);\n                    modal.getRoot().on(ModalEvents.save, function(e) {\n                        this.modal.setBody('<span class=\"loading-icon icon-no-margin\"><img src='+M.cfg.wwwroot + '/local/ajax-loader.svg></span>');\n                        this.modal.hideFooter();\n                        this.modal.setTitle('Request Processing...');\n                        $('[data-action=\"hide\"]').css('display','none');\n                        e.preventDefault();\n                        args.confirm = true;\n                        var promise = Ajax.call([{\n                            methodname: 'local_classroom_' + args.action,\n                            args: args\n                        }]);\n                        promise[0].done(function(resp) {\n                            window.location.href = window.location.href;\n                        }).fail(function(ex) {\n                            // do something with the exception\n                             console.log(ex);\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        },\n        ManageclassroomStatus: function(args) {\n            return Str.get_strings([{\n                key: 'confirmation',\n                component: 'local_classroom'\n            },\n            {\n                key: args.actionstatusmsg,\n                component: 'local_classroom',\n                param: args.classroomname,\n            },\n            {\n                key: 'deleteallconfirm',\n                component: 'local_classroom'\n            },\n            {\n                key: 'yes'\n            }]).then(function(s) {\n                ModalFactory.create({\n                    title: s[0],\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    modal.setSaveButtonText(s[3]);\n                    modal.getRoot().on(ModalEvents.save, function(e) {\n                        this.modal.setBody('<span class=\"loading-icon icon-no-margin\"><img src='+M.cfg.wwwroot + '/local/ajax-loader.svg></span>');\n                        this.modal.hideFooter();\n                        this.modal.setTitle('Request Processing...');\n                        $('[data-action=\"hide\"]').css('display','none');\n\n                        e.preventDefault();\n                        args.confirm = true;\n                        var promise = Ajax.call([{\n                            methodname: 'local_classroom_manageclassroomStatus',\n                            args: args\n                        }]);\n                        promise[0].done(function(resp) {\n                            if(args.action==\"enrolrequest\"){\n                                location.reload();\n\n                            }else if(args.action==\"selfenrol\"){\n                                if(resp.return_status ==''){\n                                    // location.reload();\n                                    window.location.href = M.cfg.wwwroot + '/local/classroom/view.php?cid='+args.classroomid;\n                                }else{\n                                    modal.setBody(resp.return_status);\n                                    modal.setTitle('Information');\n                                    $('[data-action=\"hide\"]').css('display','block');\n                                }\n\n                            }else{\n                                window.location.href = M.cfg.wwwroot + '/local/classroom/view.php?cid='+args.classroomid;\n\n                            }\n                            $(\".close\").click(function(){\n                                    location.reload();\n                            });\n                        }).fail(function(ex) {\n                            // do something with the exception\n                             console.log(ex);\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        },\n        load: function () {\n\n        }\n    };\n});  "],"file":"classroom.min.js"}