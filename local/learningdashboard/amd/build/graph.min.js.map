{"version":3,"file":"graph.min.js","sources":["../src/graph.js"],"sourcesContent":["define(['jquery', 'core/str', 'core/ajax', 'highcharts'], function($, str, ajax, Highcharts) {\n    let dataset, chart, completionPercentage;\n    function getData() {\n        console.log(\"dataset dataset dataset:\", dataset.data);\n        return [\n            [\"Target Credits\", dataset.data.Completed],\n            [\"Actual Credits Achieved\", dataset.data.Pending]\n        ];\n    }\n\n    function getSubtitle() {\n        return `<span style=\"font-size: 80px\">${completionPercentage}%</span><br><span style=\"font-size: 22px\">${dataset.status}</span>`;\n    }\n\n    function update() {\n        chart.update({\n            subtitle: {\n                text: getSubtitle()\n            }\n        });\n\n        chart.series[0].update({\n            name: 'Completed',\n            data: getData()\n        });\n    }\n\n    return {\n        init: function(data) {\n            dataset = JSON.parse(data);\n            completionPercentage = dataset.completion_percentage;\n\n            chart = Highcharts.chart('container', {\n                title: {\n                    text: '',\n                    align: 'center'\n                },\n                subtitle: {\n                    useHTML: true,\n                    text: getSubtitle(),\n                    floating: true,\n                    verticalAlign: 'middle',\n                    y: 30\n                },\n                legend: {\n                    enabled: false\n                },\n                tooltip: {\n                    valueDecimals: 2,\n                },\n                plotOptions: {\n                    pie: {\n                        borderWidth: 0,\n                        colorByPoint: true,\n                        size: '100%',\n                        innerSize: '70%',\n                        dataLabels: {\n                            enabled: false,\n                            crop: false,\n                            distance: '-20%',\n                            style: {\n                                fontWeight: 'bold',\n                                fontSize: '16px'\n                            },\n                            connectorWidth: 0\n                        },\n                        center: ['50%', '50%']\n                    }\n                },\n                colors: ['#0f6cbf','#eeaf00'],\n                series: [{\n                    type: 'pie',\n                    name: dataset.status,\n                    data: getData()\n                }],\n                credits: {\n                    enabled: false\n                }\n            });\n\n\n        }\n    };\n});\n"],"names":["define","$","str","ajax","Highcharts","dataset","chart","completionPercentage","getData","console","log","data","Completed","Pending","getSubtitle","status","init","JSON","parse","completion_percentage","title","text","align","subtitle","useHTML","floating","verticalAlign","y","legend","enabled","tooltip","valueDecimals","plotOptions","pie","borderWidth","colorByPoint","size","innerSize","dataLabels","crop","distance","style","fontWeight","fontSize","connectorWidth","center","colors","series","type","name","credits"],"mappings":"AAAAA,uCAAO,CAAC,SAAU,WAAY,YAAa,eAAe,SAASC,EAAGC,IAAKC,KAAMC,gBACzEC,QAASC,MAAOC,8BACXC,iBACLC,QAAQC,IAAI,2BAA4BL,QAAQM,MACzC,CACH,CAAC,iBAAkBN,QAAQM,KAAKC,WAChC,CAAC,0BAA2BP,QAAQM,KAAKE,mBAIxCC,4DACmCP,0EAAiEF,QAAQU,wBAgB9G,CACHC,KAAM,SAASL,MACXN,QAAUY,KAAKC,MAAMP,MACrBJ,qBAAuBF,QAAQc,sBAE/Bb,MAAQF,WAAWE,MAAM,YAAa,CAClCc,MAAO,CACHC,KAAM,GACNC,MAAO,UAEXC,SAAU,CACNC,SAAS,EACTH,KAAMP,cACNW,UAAU,EACVC,cAAe,SACfC,EAAG,IAEPC,OAAQ,CACJC,SAAS,GAEbC,QAAS,CACLC,cAAe,GAEnBC,YAAa,CACTC,IAAK,CACDC,YAAa,EACbC,cAAc,EACdC,KAAM,OACNC,UAAW,MACXC,WAAY,CACRT,SAAS,EACTU,MAAM,EACNC,SAAU,OACVC,MAAO,CACHC,WAAY,OACZC,SAAU,QAEdC,eAAgB,GAEpBC,OAAQ,CAAC,MAAO,SAGxBC,OAAQ,CAAC,UAAU,WACnBC,OAAQ,CAAC,CACLC,KAAM,MACNC,KAAM5C,QAAQU,OACdJ,KAAMH,YAEV0C,QAAS,CACLrB,SAAS"}
